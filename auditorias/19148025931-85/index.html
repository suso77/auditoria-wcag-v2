<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>â™¿ Informe de Accesibilidad IAAP PRO</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: system-ui; background:#fafafa; color:#222; margin:2em; }
    h1 { color:#003366; }
    section { background:#fff; border-radius:12px; padding:1.5em; margin-bottom:2em; box-shadow:0 2px 6px rgba(0,0,0,0.08); }
    a.download { background:#004080; color:#fff; padding:0.8em 1.4em; border-radius:8px; text-decoration:none; }
    a.download:hover { background:#002b5e; }
    footer { text-align:center; font-size:0.85em; color:#555; margin-top:3em; }
  </style>
</head>
<body>
  <h1>â™¿ Informe de Accesibilidad Digital IAAP PRO</h1>
  <section>
    <h2>ðŸ“Š Resumen</h2>
    <p><strong>Fecha:</strong> <span id="fecha"></span></p>
    <canvas id="chart"></canvas>
  </section>
  <section>
    <h2>ðŸ“„ Informe PDF IAAP</h2>
    <iframe src="Informe-WCAG-IAAP.pdf" title="Informe IAAP PDF" width="100%" height="600"></iframe>
  </section>
  <section>
    <h2>ðŸ’¾ Descargas</h2>
    <p><a href="Informe-WCAG-IAAP.xlsx" class="download">Excel IAAP</a></p>
    <p><a href="Informe-WCAG-IAAP.zip" class="download">ZIP Consolidado</a></p>
    <p><a href="Resumen-WCAG.md" class="download">Resumen Markdown</a></p>
  </section>
  <footer>Â© IlÃºmina Audit IAAP Â· 2025</footer>
  <script>
    fetch('data.json').then(r => r.json()).then(d => {
      const impacts = d.flatMap(r => r.violations?.map(v => v.impact) || []);
      const c = impacts.reduce((a,i)=>{a[i]=(a[i]||0)+1;return a;},{});
      new Chart(document.getElementById('chart'), {
        type:'doughnut',
        data:{labels:Object.keys(c),datasets:[{data:Object.values(c),backgroundColor:['#e53935','#fb8c00','#fdd835','#43a047']}]},
        options:{plugins:{legend:{position:'bottom'}}}
      });
      document.getElementById('fecha').textContent = new Date().toLocaleString('es-ES');
    });
  </script>
</body>
</html>
